<!DOCTYPE html>
<html lang="en">
  <head>
    <title>TSAS Official</title>
    <link rel="stylesheet" type="text/css" href="../style.css">
    <link rel="shortcut icon" type="image/png" href="../images/favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Angkor&family=Belanosima&display=swap" rel="stylesheet">
    <script src="../script.js"></script>
    <script src="https://tsasofficial.github.io/members/header.js"></script>
    <script defer src="../popupscript/script.js"></script>
  </head>
  <body>
    <header id="header">
    </header>
    <div class="center">
      <center>
        <div class="title_font">
          <font size = "6">Welcome</font><font size = "6" id="name"><script type="text/javascript">
            if (getCookie("username") == "") {
		    if (window.self !== window.top) {
			    console.log("This page is in an iFrame.");
		    } else {
			    window.location.href = "https://tsasofficial.github.io/login";
		    }
	    } else {
		    document.write(" " + getCookie("username"));
	    }
          </script></font><noscript><font size = "6"> Non-Javascript User</font></noscript><font size = "6">!</font>
          <br>
          <img class="fully-rounded-img" width="100" height="100" id="profilePicture" alt="A very ugly person, you!"/>
          <script type="text/javascript">
			let pictureValue = getCookie("picture");
			// Handle Base64-encoded data URLs safely
			try {
			  if (pictureValue.startsWith("data:image")) {
			    // It's already a data URL → just assign it
			    document.getElementById("profilePicture").src = pictureValue;
			  } else if (pictureValue.trim() !== "") {
			    // Might be an encoded base64 string without prefix → decode it manually
			    const img = new Image();
			    img.src = "data:image/png;base64," + pictureValue;
			    document.getElementById("profilePicture").src = img.src;
			  }
			} catch (err) {
			  console.error("Error decoding base64 image:", err);
			  document.getElementById("profilePicture").src = "../images/DefaultProfilePicture.png";
			}

			if (!pictureValue){
			  document.getElementById("profilePicture").src = "../images/DefaultProfilePicture.png";
			}
          </script>
        </div>
        <br>
        <div class="normal_font">
          <font size = "5">Access all T.S.A.S.'s entertainment videos, shows, and more from this website!</font>
        </div>
        <br>
        <br>
        <br>
        <a target="_blank" href="https://www.youtube.com/@TSASOfficial69"><button class="button button"><div class="normal_font"><font size = "4">Official YT Channel</font></div></button></a>
        <br>
        <br>
        <a href='theshow'><button class="button button"><div class="normal_font"><font size = "4">Shows</font></div></button></a>
        <br>
        <br>
        <a href='fanart?'><button class="button button"><div class="normal_font"><font size = "4">Fan Art</font></div></button></a>
        <br>
        <br>
        <a href='downloads'><button class="button button"><div class="normal_font"><font size = "4">Downloads</font></div></button></a>
        <br>
        <br>
        <a href="settings"><button class="button button"><div class="normal_font"><font size = "4">Settings</font></div></button></a>
        <br>
        <br>
      </center>
      <div class="modal" id="modal">
        <div class="modal-header">
          <div class="title_font">Privacy Notice</div>
          <button data-close-button class="close-button">&times;</button>
        </div>
        <div class="modal-body">
          <div class="normal_font">
            <font size = "3">This site is using your name for display puposes only. Your password will be stored in our database for logging in ONLY when you DON'T login with other options. If you choose to signup for our newsletter, your email will ONLY get used for T.S.A.S. updates.</font>
          </div>
          <br>
        </div>
      </div>
      <div id="overlay"></div>
      <div class="normal_font">
        <button data-modal-target="#modal" class="butt"><div class="normal_font"><font size = "4">Privacy Notice</font></div></button>
        <font size = "1">Website made with love and care by Dominic! T.S.A.S. was originally made by Eli, Kyle, Christian, and Bobby.</font>
        <a href="../privacypolicy"><font size = "1">Our Privacy Policy.</font></a>
        <a href="../termsofservice"><font size = "1">Our Terms of Service.</font></a>
      </div>
    </div>
  </body>
</html>
